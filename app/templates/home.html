<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ABLE - Bible Paraphrases for Special Needs</title>
  <style>
    /* Background: promote to its own composited layer and keep animations cheap */
    .background-animation {
      position: fixed;
      inset: 0;
      z-index: -1;
      overflow: hidden;
      pointer-events: none;
      -webkit-transform: translateZ(0); /* promote to GPU layer */
      transform: translateZ(0);
      will-change: transform, opacity;
    }

    .color-splash {
      position: absolute;
      opacity: 0.45;
      /* blur is costly ‚Äî lowered here; remove on mobile below */
      filter: blur(18px);
      /* only animate transform/opacity (avoid animating border-radius) */
      animation: splash 20s infinite ease-in-out;
      border-radius: 50% / 50%;
      transform-origin: center;
      -webkit-transform: translate3d(0,0,0);
      transform: translate3d(0,0,0);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      will-change: transform, opacity;
    }

    /* keep keyframes cheap ‚Äî only transform and opacity */
    @keyframes splash {
      0%   { transform: translateY(0) translateX(0) scale(1) rotate(0deg); opacity: .45; }
      33%  { transform: translateY(-20px) translateX(10px) scale(1.05) rotate(6deg); opacity: .5; }
      66%  { transform: translateY(10px) translateX(-8px) scale(.98) rotate(-3deg); opacity: .45; }
      100% { transform: translateY(0) translateX(0) scale(1) rotate(0deg); opacity: .45; }
    }

    /* Disable heavy effects on small / touch devices (Android) */
    @media (max-width: 900px), (pointer: coarse) {
      .background-animation { /* simpler background on mobile to avoid repaints */
        /* optionally hide entirely if still problematic */
        /* display: none; */
      }
      .color-splash {
        animation: none !important;
        filter: none !important;
        opacity: 0.25;
      }
      .container {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background-color: var(--bg);
      }
    }

    :root {
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #64748b;
      --primary: #7c3aed;
      --border: #e2e8f0;
      --highlight: #d1fae5;
      
      /* Pastel colors for shapes */
      --pastel1: #ffccf9;
      --pastel2: #d8f3ff;
      --pastel3: #e5ffe5;
      --pastel4: #ffe9c9;
      --pastel5: #ede6ff;
    }
    
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0f172a;
        --card: #1e293b;
        --text: #f1f5f9;
        --muted: #94a3b8;
        --border: #334155;
        --highlight: #065f46;
        
        /* Darker pastel colors for dark mode */
        --pastel1: #552f52;
        --pastel2: #253847;
        --pastel3: #1e3a1e;
        --pastel4: #3d2f1f;
        --pastel5: #2a2642;
      }
    }
    
    @keyframes float {
      0% {
        transform: translateY(0) translateX(0) rotate(0);
      }
      33% {
        transform: translateY(-40px) translateX(20px) rotate(10deg);
      }
      66% {
        transform: translateY(20px) translateX(-15px) rotate(-5deg);
      }
      100% {
        transform: translateY(0) translateX(0) rotate(0);
      }
    }
    
    /* Adding slight backdrop blur to make content stand out */
    .container {
      position: relative;
      z-index: 1;
      backdrop-filter: blur(1px);
      -webkit-backdrop-filter: blur(1px);
      background-color: rgba(var(--bg-rgb, 248, 250, 252), 0.7);
      border-radius: 16px;
      padding: 30px;
      max-width: 800px;
      margin: 0 auto;
      padding-top: 5vh;
    }
    
    body {
      font-family: system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }

    /* Update the container width to use more screen space */
    .container {
      max-width: 800px;  /* Increased from 600px */
      margin: 0 auto;
      padding-top: 5vh;
    }

    /* For larger screens, allow even more width */
    @media (min-width: 1200px) {
      .container {
        max-width: 1000px;
      }
    }

    .header {
      margin-bottom: 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .title {
      font-size: 1.5rem;
      font-weight: bold;
    }

    .subtitle {
      font-size: 0.9rem;
      color: var(--muted);
    }
    
    .header-buttons {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    
    .github-link, .login-link {
      display: flex;
      align-items: center;
      color: var(--muted);
      text-decoration: none;
      font-size: 0.9rem;
      gap: 4px;
      transition: color 0.2s;
    }
    
    .github-link:hover, .login-link:hover {
      color: var(--primary);
    }
    
    .login-link {
      padding: 4px 10px;
      border: 1px solid var(--border);
      border-radius: 6px;
      background: var(--card);
    }

    .search-container {
      position: relative;
      margin-bottom: 1rem;
      display: flex;
      gap: 10px;
    }

    .search-input-wrapper {
      position: relative;
      flex-grow: 1;
    }

    .search-input {
      width: 100%;
      box-sizing: border-box;
      padding: 12px 12px 12px 40px;
      font-size: 1rem;
      border: 2px solid var(--border);
      border-radius: 8px;
      background: var(--card);
      color: var(--text);
    }

    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--muted);
    }

    .search-button {
      padding: 0 20px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      min-width: 100px;
    }

    /* New styles for Bible category selector */
    .bible-category-selector {
      margin-top: 2rem;
      margin-bottom: 2rem;
    }
    
    .category-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-top: 1rem;
    }
    
    .category-column {
      flex: 1;
      min-width: 250px;
    }
    
    .category-group h3 {
      font-size: 1.2rem;
      margin-bottom: 0.75rem;
      color: var(--primary);
      font-weight: 600;
    }
    
    .category-section {
      margin-bottom: 1.5rem;
    }
    
    .category-section h4 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      color: var(--text);
      font-weight: 500;
      padding-bottom: 0.25rem;
      border-bottom: 1px solid var(--border);
    }
    
    .book-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    
    .book-link {
      font-size: 0.9rem;
      padding: 0.35rem 0.6rem;
      background-color: var(--card);
      border-radius: 6px;
      border: 1px solid var(--border);
      text-decoration: none;
      color: var(--text);
      transition: all 0.2s ease;
      display: inline-block;
    }
    
    .book-link:hover {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    /* Mobile responsive adjustments */
    @media (max-width: 768px) {
      .category-container {
        flex-direction: column;
      }
      
      .book-list {
        flex-wrap: wrap;
      }
    }

    /* Quick Picks Styling */
    .quick-picks {
      margin-top: 2rem;
    }
    
    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 1rem;
    }
    
    .chip {
      padding: 8px 16px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 0.9rem;
      color: var(--text);
      text-decoration: none;
      transition: all 0.2s;
    }
    
    .chip:hover {
      border-color: var(--primary);
      color: var(--primary);
    }
    
    .more-button {
      cursor: pointer;
      background-color: var(--card);
    }
    
    .more-button:hover {
      background-color: var(--border);
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Add splash background elements before the container -->
  <div class="background-animation">
    <div class="color-splash" style="background-color: var(--pastel1); width: 400px; height: 400px; left: 10%; top: 15%; animation-duration: 23s;"></div>
    <div class="color-splash" style="background-color: var(--pastel2); width: 350px; height: 350px; right: 15%; top: 10%; animation-duration: 27s; animation-delay: 1s;"></div>
    <div class="color-splash" style="background-color: var(--pastel3); width: 300px; height: 300px; left: 20%; bottom: 20%; animation-duration: 25s; animation-delay: 2s;"></div>
    <div class="color-splash" style="background-color: var(--pastel4); width: 450px; height: 450px; right: 15%; bottom: 10%; animation-duration: 30s; animation-delay: 3s;"></div>
    <div class="color-splash" style="background-color: var(--pastel5); width: 380px; height: 380px; left: 40%; top: 40%; animation-duration: 28s; animation-delay: 4s;"></div>
  </div>
  
  <div class="container">
    <header class="header">
      <div>
        <div class="title">ABLE üë¶üèºüßíüèª</div>
        <div class="subtitle">ABLE is a bible paraphrase with simple words for special needs.</div>
      </div>
      <div class="header-buttons">
        <a href="/login" class="login-link" title="Log in">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
            <polyline points="10 17 15 12 10 7"></polyline>
            <line x1="15" y1="12" x2="3" y2="12"></line>
          </svg>
          Login
        </a>
        <a href="https://github.com/bibleable/able" target="_blank" class="github-link" title="View on GitHub">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          GitHub
        </a>
      </div>
    </header>

    <form method="get" action="/search">
      <div class="search-container">
        <div class="search-input-wrapper">
          <span class="search-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
          </span>
          <input id="q" class="search-input" type="text" name="q" placeholder="Search the Bible..." />
        </div>
        <button class="search-button" type="submit">Search</button>
      </div>
    </form>

    <!-- Add Bible category selector -->
    <div class="bible-category-selector">
      <h2>Browse by category</h2>
      
      <div class="category-container">
        <div class="category-column">
          <div class="category-group">
            <h3>Old Testament</h3>
            
            <div class="category-section">
              <h4>Pentateuch</h4>
              <div class="book-list">
                <a href="/verses?passage=Genesis+1" class="book-link">Genesis</a>
                <a href="/verses?passage=Exodus+1" class="book-link">Exodus</a>
                <a href="/verses?passage=Leviticus+1" class="book-link">Leviticus</a>
                <a href="/verses?passage=Numbers+1" class="book-link">Numbers</a>
                <a href="/verses?passage=Deuteronomy+1" class="book-link">Deuteronomy</a>
              </div>
            </div>
            
            <div class="category-section">
              <h4>Historical Books</h4>
              <div class="book-list">
                <a href="/verses?passage=Joshua+1" class="book-link">Joshua</a>
                <a href="/verses?passage=Judges+1" class="book-link">Judges</a>
                <a href="/verses?passage=Ruth+1" class="book-link">Ruth</a>
                <a href="/verses?passage=1+Samuel+1" class="book-link">1 Samuel</a>
                <a href="/verses?passage=2+Samuel+1" class="book-link">2 Samuel</a>
                <a href="/verses?passage=1+Kings+1" class="book-link">1 Kings</a>
                <a href="/verses?passage=2+Kings+1" class="book-link">2 Kings</a>
                <a href="/verses?passage=1+Chronicles+1" class="book-link">1 Chronicles</a>
                <a href="/verses?passage=2+Chronicles+1" class="book-link">2 Chronicles</a>
                <a href="/verses?passage=Ezra+1" class="book-link">Ezra</a>
                <a href="/verses?passage=Nehemiah+1" class="book-link">Nehemiah</a>
                <a href="/verses?passage=Esther+1" class="book-link">Esther</a>
              </div>
            </div>
            
            <div class="category-section">
              <h4>Wisdom Literature</h4>
              <div class="book-list">
                <a href="/verses?passage=Job+1" class="book-link">Job</a>
                <a href="/verses?passage=Psalms+1" class="book-link">Psalms</a>
                <a href="/verses?passage=Proverbs+1" class="book-link">Proverbs</a>
                <a href="/verses?passage=Ecclesiastes+1" class="book-link">Ecclesiastes</a>
                <a href="/verses?passage=Song+of+Solomon+1" class="book-link">Song of Solomon</a>
              </div>
            </div>
          </div>
        </div>
        
        <div class="category-column">
          <div class="category-group">
            <div class="category-section">
              <h4>Major Prophets</h4>
              <div class="book-list">
                <a href="/verses?passage=Isaiah+1" class="book-link">Isaiah</a>
                <a href="/verses?passage=Jeremiah+1" class="book-link">Jeremiah</a>
                <a href="/verses?passage=Lamentations+1" class="book-link">Lamentations</a>
                <a href="/verses?passage=Ezekiel+1" class="book-link">Ezekiel</a>
                <a href="/verses?passage=Daniel+1" class="book-link">Daniel</a>
              </div>
            </div>
            
            <div class="category-section">
              <h4>Minor Prophets</h4>
              <div class="book-list">
                <a href="/verses?passage=Hosea+1" class="book-link">Hosea</a>
                <a href="/verses?passage=Joel+1" class="book-link">Joel</a>
                <a href="/verses?passage=Amos+1" class="book-link">Amos</a>
                <a href="/verses?passage=Obadiah+1" class="book-link">Obadiah</a>
                <a href="/verses?passage=Jonah+1" class="book-link">Jonah</a>
                <a href="/verses?passage=Micah+1" class="book-link">Micah</a>
                <a href="/verses?passage=Nahum+1" class="book-link">Nahum</a>
                <a href="/verses?passage=Habakkuk+1" class="book-link">Habakkuk</a>
                <a href="/verses?passage=Zephaniah+1" class="book-link">Zephaniah</a>
                <a href="/verses?passage=Haggai+1" class="book-link">Haggai</a>
                <a href="/verses?passage=Zechariah+1" class="book-link">Zechariah</a>
                <a href="/verses?passage=Malachi+1" class="book-link">Malachi</a>
              </div>
            </div>
          </div>
        </div>
        
        <div class="category-column">
          <div class="category-group">
            <h3>New Testament</h3>
            
            <div class="category-section">
              <h4>Gospels & Acts</h4>
              <div class="book-list">
                <a href="/verses?passage=Matthew+1" class="book-link">Matthew</a>
                <a href="/verses?passage=Mark+1" class="book-link">Mark</a>
                <a href="/verses?passage=Luke+1" class="book-link">Luke</a>
                <a href="/verses?passage=John+1" class="book-link">John</a>
                <a href="/verses?passage=Acts+1" class="book-link">Acts</a>
              </div>
            </div>
            
            <div class="category-section">
              <h4>Pauline Epistles</h4>
              <div class="book-list">
                <a href="/verses?passage=Romans+1" class="book-link">Romans</a>
                <a href="/verses?passage=1+Corinthians+1" class="book-link">1 Corinthians</a>
                <a href="/verses?passage=2+Corinthians+1" class="book-link">2 Corinthians</a>
                <a href="/verses?passage=Galatians+1" class="book-link">Galatians</a>
                <a href="/verses?passage=Ephesians+1" class="book-link">Ephesians</a>
                <a href="/verses?passage=Philippians+1" class="book-link">Philippians</a>
                <a href="/verses?passage=Colossians+1" class="book-link">Colossians</a>
                <a href="/verses?passage=1+Thessalonians+1" class="book-link">1 Thessalonians</a>
                <a href="/verses?passage=2+Thessalonians+1" class="book-link">2 Thessalonians</a>
                <a href="/verses?passage=1+Timothy+1" class="book-link">1 Timothy</a>
                <a href="/verses?passage=2+Timothy+1" class="book-link">2 Timothy</a>
                <a href="/verses?passage=Titus+1" class="book-link">Titus</a>
                <a href="/verses?passage=Philemon+1" class="book-link">Philemon</a>
              </div>
            </div>
            
            <div class="category-section">
              <h4>General Epistles & Revelation</h4>
              <div class="book-list">
                <a href="/verses?passage=Hebrews+1" class="book-link">Hebrews</a>
                <a href="/verses?passage=James+1" class="book-link">James</a>
                <a href="/verses?passage=1+Peter+1" class="book-link">1 Peter</a>
                <a href="/verses?passage=2+Peter+1" class="book-link">2 Peter</a>
                <a href="/verses?passage=1+John+1" class="book-link">1 John</a>
                <a href="/verses?passage=2+John+1" class="book-link">2 John</a>
                <a href="/verses?passage=3+John+1" class="book-link">3 John</a>
                <a href="/verses?passage=Jude+1" class="book-link">Jude</a>
                <a href="/verses?passage=Revelation+1" class="book-link">Revelation</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="quick-picks">
      <h2>Quick picks</h2>
      <div class="chips">
        <a href="/verses?passage=John+3:16" class="chip">John 3:16</a>
        <a href="/verses?passage=Psalms+23" class="chip">Psalms 23</a>
        <a href="/verses?passage=Philippians+4:13" class="chip">Philippians 4:13</a>
        <a href="/verses?passage=Romans+8:28" class="chip">Romans 8:28</a>
        <a href="/verses?passage=Jeremiah+29:11" class="chip">Jeremiah 29:11</a>
        <a href="/verses?passage=Matthew+5" class="chip">Matthew 5</a>
        <a href="/verses?passage=Philippians+4:6-7" class="chip">Philippians 4:6-7</a>
        <button id="moreButton" class="chip more-button">More +</button>
      </div>
      
      <!-- Hidden section with more quick picks -->
      <div id="extraPicks" class="chips hidden">
        <a href="/verses?passage=Proverbs+3:5-6" class="chip">Proverbs 3:5-6</a>
        <a href="/verses?passage=Isaiah+41:10" class="chip">Isaiah 41:10</a>
        <a href="/verses?passage=John+14:6" class="chip">John 14:6</a>
        <a href="/verses?passage=Luke+2:11" class="chip">Luke 2:11</a>
        <a href="/verses?passage=Psalm+119:105" class="chip">Psalm 119:105</a>
        <a href="/verses?passage=Psalm+139" class="chip">Psalm 139</a>
        <a href="/verses?passage=1+Corinthians+13" class="chip">1 Corinthians 13</a>
        <a href="/verses?passage=Genesis+1:1" class="chip">Genesis 1:1</a>
        <a href="/verses?passage=Matthew+28:19-20" class="chip">Matthew 28:19-20</a>
        <a href="/verses?passage=John+1:1" class="chip">John 1:1</a>
        <a href="/verses?passage=Romans+12:1-2" class="chip">Romans 12:1-2</a>
        <a href="/verses?passage=2+Timothy+3:16" class="chip">2 Timothy 3:16</a>
        
        <a href="/verses?passage=John+11:35" class="chip">John 11:35</a>
        <a href="/verses?passage=Romans+3:23" class="chip">Romans 3:23</a>
        <a href="/verses?passage=Ephesians+2:8-9" class="chip">Ephesians 2:8-9</a>
        <a href="/verses?passage=Galatians+5:22-23" class="chip">Galatians 5:22-23</a>
        <a href="/verses?passage=Hebrews+11:1" class="chip">Hebrews 11:1</a>
        <a href="/verses?passage=Revelation+21:4" class="chip">Revelation 21:4</a>
        <a href="/verses?passage=Matthew+6:9-13" class="chip">Matthew 6:9-13</a>
        <a href="/verses?passage=Psalm+51:10" class="chip">Psalm 51:10</a>
        <a href="/verses?passage=Genesis+1:26-27" class="chip">Genesis 1:26-27</a>
        <a href="/verses?passage=Exodus+20:1-17" class="chip">Ten Commandments</a>
        <a href="/verses?passage=Joshua+1:9" class="chip">Joshua 1:9</a>
        <a href="/verses?passage=Isaiah+53:5" class="chip">Isaiah 53:5</a>
        <a href="/verses?passage=Micah+6:8" class="chip">Micah 6:8</a>
        <a href="/verses?passage=Proverbs+31" class="chip">Proverbs 31</a>
        <a href="/verses?passage=Ecclesiastes+3:1-8" class="chip">Ecclesiastes 3:1-8</a>
        <a href="/verses?passage=Matthew+22:37-40" class="chip">Greatest Commandment</a>
        <a href="/verses?passage=John+15:13" class="chip">John 15:13</a>
        <a href="/verses?passage=1+John+4:7-8" class="chip">1 John 4:7-8</a>
        <a href="/verses?passage=Acts+1:8" class="chip">Acts 1:8</a>
        <a href="/verses?passage=James+1:2-4" class="chip">James 1:2-4</a>
        <a href="/verses?passage=Colossians+3:23" class="chip">Colossians 3:23</a>
        <a href="/verses?passage=1+Peter+5:7" class="chip">1 Peter 5:7</a>
        <a href="/verses?passage=Isaiah+40:31" class="chip">Isaiah 40:31</a>
        <a href="/verses?passage=2+Corinthians+5:17" class="chip">2 Corinthians 5:17</a>
      </div>
    </div>
  </div>

  <!-- Add JavaScript to toggle the hidden section -->
  <script>
    document.getElementById('moreButton').addEventListener('click', function() {
      const extraPicks = document.getElementById('extraPicks');
      const moreButton = document.getElementById('moreButton');
      
      if (extraPicks.classList.contains('hidden')) {
        // Show the predefined list of verses
        extraPicks.classList.remove('hidden');
        moreButton.textContent = 'Generate More';
        
        // Move the "More" button to the end of extraPicks
        this.remove();
        extraPicks.appendChild(moreButton);
      } else {
        // Generate 10 additional random verses
        generateRandomVerseChips(10);
      }
    });
    
    // Function to generate random verse chips
    function generateRandomVerseChips(count) {
      const extraPicks = document.getElementById('extraPicks');
      const moreButton = document.getElementById('moreButton');
      
      // Bible data: [book, chapters]
      const bibleData = [
        ["Genesis", 50], ["Exodus", 40], ["Leviticus", 27], ["Numbers", 36], ["Deuteronomy", 34],
        ["Joshua", 24], ["Judges", 21], ["Ruth", 4], ["1 Samuel", 31], ["2 Samuel", 24],
        ["1 Kings", 22], ["2 Kings", 25], ["1 Chronicles", 29], ["2 Chronicles", 36], ["Ezra", 10],
        ["Nehemiah", 13], ["Esther", 10], ["Job", 42], ["Psalms", 150], ["Proverbs", 31],
        ["Ecclesiastes", 12], ["Song of Solomon", 8], ["Isaiah", 66], ["Jeremiah", 52], ["Lamentations", 5],
        ["Ezekiel", 48], ["Daniel", 12], ["Hosea", 14], ["Joel", 3], ["Amos", 9],
        ["Obadiah", 1], ["Jonah", 4], ["Micah", 7], ["Nahum", 3], ["Habakkuk", 3],
        ["Zephaniah", 3], ["Haggai", 2], ["Zechariah", 14], ["Malachi", 4], ["Matthew", 28],
        ["Mark", 16], ["Luke", 24], ["John", 21], ["Acts", 28], ["Romans", 16],
        ["1 Corinthians", 16], ["2 Corinthians", 13], ["Galatians", 6], ["Ephesians", 6], ["Philippians", 4],
        ["Colossians", 4], ["1 Thessalonians", 5], ["2 Thessalonians", 3], ["1 Timothy", 6], ["2 Timothy", 4],
        ["Titus", 3], ["Philemon", 1], ["Hebrews", 13], ["James", 5], ["1 Peter", 5],
        ["2 Peter", 3], ["1 John", 5], ["2 John", 1], ["3 John", 1], ["Jude", 1],
        ["Revelation", 22]
      ];
      
      // Generate the specified number of random verse chips
      for (let i = 0; i < count; i++) {
        // Select a random book
        const randomBookIndex = Math.floor(Math.random() * bibleData.length);
        const book = bibleData[randomBookIndex][0];
        const chapters = bibleData[randomBookIndex][1];
        
        // Select a random chapter
        const chapter = Math.floor(Math.random() * chapters) + 1;
        
        // Select a random verse
        const maxVerses = getMaxVerses(book, chapter);
        const verse = Math.floor(Math.random() * maxVerses) + 1;
        
        // Generate the verse reference
        const verseReference = book + " " + chapter + ":" + verse;
        
        // Create chip element
        const chip = document.createElement('a');
        chip.href = `/verses?passage=${encodeURIComponent(verseReference)}`;
        chip.className = 'chip';
        chip.textContent = verseReference;
        
        // Add the chip before the "More" button
        extraPicks.insertBefore(chip, moreButton);
      }
    }
    
    // Add random verse functionality
    document.querySelector('form').addEventListener('submit', function(e) {
      const searchInput = document.getElementById('q');
      if (!searchInput.value.trim()) {
        e.preventDefault(); // Prevent form submission for now
        
        // Bible data: [book, chapters]
        const bibleData = [
          ["Genesis", 50], ["Exodus", 40], ["Leviticus", 27], ["Numbers", 36], ["Deuteronomy", 34],
          ["Joshua", 24], ["Judges", 21], ["Ruth", 4], ["1 Samuel", 31], ["2 Samuel", 24],
          ["1 Kings", 22], ["2 Kings", 25], ["1 Chronicles", 29], ["2 Chronicles", 36], ["Ezra", 10],
          ["Nehemiah", 13], ["Esther", 10], ["Job", 42], ["Psalms", 150], ["Proverbs", 31],
          ["Ecclesiastes", 12], ["Song of Solomon", 8], ["Isaiah", 66], ["Jeremiah", 52], ["Lamentations", 5],
          ["Ezekiel", 48], ["Daniel", 12], ["Hosea", 14], ["Joel", 3], ["Amos", 9],
          ["Obadiah", 1], ["Jonah", 4], ["Micah", 7], ["Nahum", 3], ["Habakkuk", 3],
          ["Zephaniah", 3], ["Haggai", 2], ["Zechariah", 14], ["Malachi", 4], ["Matthew", 28],
          ["Mark", 16], ["Luke", 24], ["John", 21], ["Acts", 28], ["Romans", 16],
          ["1 Corinthians", 16], ["2 Corinthians", 13], ["Galatians", 6], ["Ephesians", 6], ["Philippians", 4],
          ["Colossians", 4], ["1 Thessalonians", 5], ["2 Thessalonians", 3], ["1 Timothy", 6], ["2 Timothy", 4],
          ["Titus", 3], ["Philemon", 1], ["Hebrews", 13], ["James", 5], ["1 Peter", 5],
          ["2 Peter", 3], ["1 John", 5], ["2 John", 1], ["3 John", 1], ["Jude", 1],
          ["Revelation", 22]
        ];
        
        // Select a random book
        const randomBookIndex = Math.floor(Math.random() * bibleData.length);
        const book = bibleData[randomBookIndex][0];
        const chapters = bibleData[randomBookIndex][1];
        
        // Select a random chapter
        const chapter = Math.floor(Math.random() * chapters) + 1;
        
        // Select a random verse
        const maxVerses = getMaxVerses(book, chapter);
        const verse = Math.floor(Math.random() * maxVerses) + 1;
        
        // Generate the verse reference
        const verseReference = book + " " + chapter + ":" + verse;
        
        // Set the input value to the random verse reference
        searchInput.value = verseReference;
        
        // Submit the form with the random verse
        this.submit();
      }
    });
    
    // Add this function for verse lookup
    function getMaxVerses(book, chapter) {
      // This is a simplified version that returns approximate values
      const avgVersesPerChapter = {
        "Genesis": 31, "Exodus": 29, "Leviticus": 25, "Numbers": 36, "Deuteronomy": 30,
        "Joshua": 26, "Judges": 31, "Ruth": 22, "1 Samuel": 28, "2 Samuel": 23,
        "1 Kings": 30, "2 Kings": 25, "1 Chronicles": 26, "2 Chronicles": 26, "Ezra": 24,
        "Nehemiah": 30, "Esther": 24, "Job": 28, "Psalms": 18, "Proverbs": 27,
        "Ecclesiastes": 22, "Song of Solomon": 13, "Isaiah": 26, "Jeremiah": 34, "Lamentations": 22,
        "Ezekiel": 28, "Daniel": 27, "Hosea": 14, "Joel": 25, "Amos": 15,
        "Obadiah": 21, "Jonah": 11, "Micah": 16, "Nahum": 15, "Habakkuk": 17,
        "Zephaniah": 18, "Haggai": 19, "Zechariah": 14, "Malachi": 11, "Matthew": 35,
        "Mark": 35, "Luke": 45, "John": 36, "Acts": 31, "Romans": 26,
        "1 Corinthians": 31, "2 Corinthians": 20, "Galatians": 25, "Ephesians": 24, "Philippians": 19,
        "Colossians": 24, "1 Thessalonians": 23, "2 Thessalonians": 17, "1 Timothy": 20, "2 Timothy": 18,
        "Titus": 15, "Philemon": 25, "Hebrews": 29, "James": 20, "1 Peter": 14,
        "2 Peter": 18, "1 John": 15, "2 John": 13, "3 John": 15, "Jude": 25,
        "Revelation": 20
      };
      
      return avgVersesPerChapter[book] || 20;
    }
  </script>
</body>
</html>
